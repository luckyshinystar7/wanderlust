#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

commit_msg_file="$1"
commit_msg=$(cat "$commit_msg_file")
regex_pattern="^(fix|feat|docs|chore|refactor)(-#[0-9]+)?: .+( üìù)?\$"
if [[ $commit_msg =~ $regex_pattern ]]; then
  echo "Hey hurrah! Thank you for giving attention and following our community guidelines, we are waiting to merge your code into the project !!"
else
  echo -e "Ooops!! Have you not yet read the community guidelines? We have some standard practices to be followed in the commit message.\nThe format is of the form:\n<tag>-#<issue number>: <commit message> When you have issue-number\n<tag>: <commit message> When you don't have issue number"
  echo "For more details, please refer to: https://github.com/krishnaacharyaa/wanderlust/blob/9b11b769bb23150b746296cf9008056633d21921/.github/CONTRIBUTING.md#guidelines-for-contributions"
  exit 1
fi
